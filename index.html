<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L&R Café</title>
<style>
body { font-family: Arial, sans-serif; background-color: #ffe6f0; color: #333; }
header { text-align: center; padding: 20px; border-bottom: 2px solid pink; }
h1 { color: #d63384; text-decoration: underline; }
button { background-color: pink; border: none; padding: 8px 12px; cursor: pointer; }
button:hover { background-color: #ffb3d1; }
#admin-panel, #menu-section, #stories-section { display: none; margin: 20px; padding: 15px; border: 1px solid pink; background-color: #fff0f5; }
input, textarea { padding: 6px; margin: 5px 0; width: 90%; }
.message { color: #d63384; font-weight: bold; }
nav a { margin: 0 10px; cursor: pointer; color: #d63384; text-decoration: underline; }
</style>
</head>
<body>

<!-- Password prompt -->
<div id="password-screen">
<h2>Enter Site Password</h2>
<input type="password" id="site-password" placeholder="Site password">
<button onclick="checkSitePassword()">Enter</button>
<p id="site-msg" class="message"></p>
</div>

<!-- Main website -->
<div id="main-site" style="display:none;">
<header>
<h1>L&R Café</h1>
<nav>
<a onclick="showSection('menu-section')">Menu</a>
<a onclick="showSection('stories-section')">Stories</a>
<a onclick="showSection('points-section')">Points Club</a>
<button style="float:right;" onclick="enterAdmin()">Admin Mode</button>
</nav>
</header>

<!-- Menu -->
<div id="menu-section">
<h2>Menu</h2>
<div id="menu-items"></div>
</div>

<!-- Stories -->
<div id="stories-section">
<h2>Stories</h2>
<div id="stories-items"></div>
</div>

<!-- Points Club -->
<div id="points-section">
<h2>Points Club</h2>
<p>Members-only section (Admin Mode locked)</p>
<div class="email-subscribe">
<p>Enter your email to register:</p>
<input type="email" id="email" placeholder="Your email address">
<button onclick="submitEmail()">Subscribe</button>
<p id="confirmation" class="message"></p>
</div>
<div id="points-msg" class="message"></div>
</div>

<!-- Admin Panel -->
<div id="admin-panel">
<h2>Admin Panel</h2>
<p>Welcome, Admin!</p>

<!-- Add Menu -->
<h3>Add Menu Item</h3>
<input type="text" id="menu-name" placeholder="Item name">
<input type="text" id="menu-img" placeholder="Image URL">
<button onclick="addMenu()">Add Menu Item</button>

<!-- Add Story -->
<h3>Add Story</h3>
<textarea id="story-text" placeholder="Story text"></textarea>
<input type="text" id="story-img" placeholder="Image URL">
<button onclick="addStory()">Add Story</button>

<!-- Assign Points -->
<h3>Assign Points</h3>
<select id="registered-emails"></select>
<input type="number" id="points-to-give" placeholder="Points">
<button onclick="givePoints()">Give Points</button>

<!-- AI Helper -->
<h3>AI Helper</h3>
<textarea id="ai-input" placeholder="Ask AI to suggest text"></textarea>
<button onclick="aiHelper()">Generate Suggestion</button>
<p id="ai-output" class="message"></p>
</div>
</div>

<script>
// ----- Password Protection -----
const SITE_PASSWORD = "Pinkie2025bow";
const ADMIN_PASSWORD = "PinkBow2025";

function checkSitePassword() {
  let pass = document.getElementById('site-password').value;
  if(pass === SITE_PASSWORD) {
    document.getElementById('password-screen').style.display = "none";
    document.getElementById('main-site').style.display = "block";
  } else {
    document.getElementById('site-msg').innerText = "Incorrect password!";
  }
}

// ----- Admin Mode -----
let registeredEmails = [];
let points = {};
let menuList = [];
let storiesList = [];

function enterAdmin() {
  let adminPass = prompt("Enter Admin Password:");
  if(adminPass === ADMIN_PASSWORD) {
    document.getElementById('admin-panel').style.display = "block";
    updateRegisteredEmails();
  } else {
    alert("Wrong Admin password!");
  }
}

// ----- Sections -----
function showSection(id) {
  ['menu-section','stories-section','points-section'].forEach(sec => {
    document.getElementById(sec).style.display = (sec===id)?"block":"none";
  });
}

// ----- Email Registration -----
function submitEmail() {
  const email = document.getElementById('email').value;
  if(email && !registeredEmails.includes(email)) {
    registeredEmails.push(email);
    points[email] = 0;
    document.getElementById('confirmation').innerText = "Thanks! You are registered.";
    updateRegisteredEmails();
  } else if(registeredEmails.includes(email)){
    alert("Email already registered!");
  } else {
    alert("Please enter a valid email.");
  }
}

// ----- Menu -----
function addMenu() {
  const name = document.getElementById('menu-name').value;
  const img = document.getElementById('menu-img').value;
  if(name) {
    menuList.push({name,img});
    renderMenu();
  }
}
function renderMenu() {
  const div = document.getElementById('menu-items');
  div.innerHTML = "";
  menuList.forEach(item=>{
    div.innerHTML += `<p><b>${item.name}</b><br>${item.img?'<img src="'+item.img+'" width="100">':''}</p>`;
  });
}

// ----- Stories -----
function addStory() {
  const text = document.getElementById('story-text').value;
  const img = document.getElementById('story-img').value;
  if(text) {
    storiesList.push({text,img});
    renderStories();
  }
}
function renderStories() {
  const div = document.getElementById('stories-items');
  div.innerHTML = "";
  storiesList.forEach(story=>{
    div.innerHTML += `<p>${story.text}<br>${story.img?'<img src="'+story.img+'" width="150">':''}</p>`;
  });
}

// ----- Assign Points -----
function updateRegisteredEmails() {
  const select = document.getElementById('registered-emails');
  select.innerHTML = "";
  registeredEmails.forEach(email=>{
    let option = document.createElement('option');
    option.value = email;
    option.text = email;
    select.appendChild(option);
  });
}

function givePoints() {
  const email = document.getElementById('registered-emails').value;
  const pts = parseInt(document.getElementById('points-to-give').value);
  if(email && pts>0) {
    points[email] += pts;
    alert(email + " got " + pts + " points!");
    document.getElementById('points-msg').innerText = email + " now has " + points[email] + " points.";
  }
}

// ----- AI Helper -----
function aiHelper() {
  const input = document.getElementById('ai-input').value;
  if(input) {
    document.getElementById('ai-output').innerText = "AI Suggestion: Try writing about '" + input + "'";
  }
}
</script>
</body>
</html>
